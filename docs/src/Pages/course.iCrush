<template>
    <div class='root'>
        <div>
            <h2>ğŸš€ åŸºç¡€</h2>
            <ul>
                <li>
                    <h3 @click='openRouter("install")' class='menu-2 install'>å®‰è£…</h3>
                    <ul>
                        <li>
                            <ul>
                                <li>
                                    <h5 @click='doScroll("compatibility")'>å…¼å®¹æ€§</h5>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <ul>
                                <li>
                                    <h5 @click='doScroll("log")'>æ›´æ–°æ—¥å¿—</h5>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <h4 @click='doScroll("script")'>ç›´æ¥ç”¨ script å¼•å…¥</h4>
                            <ul>
                                <li>
                                    <h5 @click='doScroll("cdn")'>CDN</h5>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <h4 @click='doScroll("npm")'>é€šè¿‡ NPM æ–¹å¼ç®¡ç†</h4>
                        </li>
                    </ul>
                </li>
                <li>
                    <h3 @click='openRouter("introduce")' class='menu-2 introduce'>ä»‹ç»</h3>
                    <ul>
                        <li>
                            <h4 @click='doScroll("what")'>image2Dæ˜¯ä»€ä¹ˆï¼Ÿ</h4>
                        </li>
                        <li>
                            <h4 @click='doScroll("painter")'>è·å–ç”»ç¬”</h4>
                        </li>
                        <li>
                            <h4 @click='doScroll("config")'>é…ç½®ç”»ç¬”</h4>
                        </li>
                        <li>
                            <h4 @click='doScroll("chart")'>ç»˜åˆ¶ç®€å•å›¾å½¢</h4>
                        </li>
                    </ul>
                </li>
                <li>
                    <h3 @click='openRouter("svg-painter")' class='menu-2 svg-painter'>çŸ¢å›¾ç”»ç¬”</h3>
                    <ul>
                        <li>
                            <h4 @click='doScroll("painter")'>è·å–ç”»ç¬”</h4>
                        </li>
                        <li>
                            <h4 @click='doScroll("config")'>é…ç½®ç”»ç¬”</h4>
                        </li>
                        <li>
                            <h4 @click='doScroll("chart")'>ç»˜åˆ¶ç®€å•å›¾å½¢</h4>
                            <ul>
                                <li>
                                    <h5 @click='doScroll("diff")'>SVGå’ŒCanvasç”»å¸ƒçš„åŒºåˆ«</h5>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <h4 @click='doScroll("data")'>æ•°æ®ç»‘å®š</h4>
                            <ul>
                                <li>
                                    <h5 @click='doScroll("gradient")'>å¦‚ä½•å¿«é€Ÿç»˜åˆ¶æŸ±çŠ¶å›¾</h5>
                                </li>
                                <li>
                                    <h5 @click='doScroll("gradient-auto")'>æ•°æ®ä¸ªæ•°åŠ¨æ€æ”¹å˜å¦‚ä½•ç»˜åˆ¶</h5>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
            <h2>
                ğŸš€ è¾…åŠ©è®¡ç®—
            </h2>
            <ul>
                <li>
                    <h3 @click='openRouter("interpolation")' class='menu-2 interpolation'>æ’å€¼</h3>
                    <ul>
                        <li>
                            <h4>å‡½æ•°æ’å€¼</h4>
                        </li>
                    </ul>
                </li>
                <li>
                    <h3 @click='openRouter("layout")' class='menu-2 layout'>å¸ƒå±€</h3>
                    <ul>
                        <li>
                            <h4>æ ‘å¸ƒå±€</h4>
                            <ul>
                                <li>
                                    <h5>è®¡ç®—æ¨¡å‹</h5>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <h4>é¥¼å¸ƒå±€</h4>
                        </li>
                    </ul>
                </li>
            </ul>
            <h2>ğŸš€ æœ‰ç”¨çš„æŠ½è±¡</h2>
            <ul>
                <li>
                    <h3 @click='openRouter("layer")' class='menu-2 layer'>ä½å›¾å›¾å±‚</h3>
                </li>
            </ul>
            <h2>ğŸš€ è¡¥å……</h2>
            <ul>
                <li>
                    <h3 @click='openRouter("animation")' class='menu-2 animation'>å¦‚ä½•æ·»åŠ åŠ¨ç”»æ•ˆæœï¼Ÿ</h3>
                </li>
            </ul>
            <h2>ğŸš€ æ›´å¤š</h2>
            <ul>
                <li>
                    <h3 @click='openRouter("author")' class='menu-2 author'>è®¤è¯†ä½œè€…</h3>
                </li>
                <li>
                    <h3 @click='openRouter("join-us")' class='menu-2 join-us'>åŠ å…¥æˆ‘ä»¬</h3>
                </li>
            </ul>
        </div>
        <div id='course-id'>
            <component :is='page' />
        </div>
    </div>
</template>
<script>
    import changeActive from '../Service/changeActive.js';
    import fixedScroll from '../Service/fixedScroll.js';
    export default {
        data() {
            return {
                page: null
            };
        },
        mounted() {
            this.loadRouter(page => this.page = page, 2);
        },
        created() {
            changeActive('menu-1', 'course');
        },
        methods: {
            openRouter(pagename) {
                this.goRouter(page => this.page = page, ['course', pagename]);
                this.doScroll("top");
            },
            doScroll(fixedName) {
                window.location.href = (window.location.href + "").replace(/\?fixed=.*$/, '') + "?fixed=" + fixedName;
                fixedScroll(document.getElementById('course-id'), 44);
            }
        }
    };

</script>
<style>
    div.root {
        overflow: hidden;
        height: calc(100vh - .44rem);
        white-space: nowrap;

        &>div {
            height: calc(100vh - .44rem);
            overflow: auto;
            display: inline-block;
            vertical-align: top;
            white-space: normal;

            &:first-child {
                width: 2.8rem;
                padding: .2rem;

                h3,
                h4,
                h5 {
                    font-weight: 400;
                    font-size: .14rem;
                    color: #304455;
                    cursor: pointer;
                    display: inline-block;
                    margin: .07rem 0;
                    height: 1.2em;
                    color: #304455;

                    &:hover {
                        border-bottom: 2px solid #711e32;
                    }
                }

                h3[active='yes'] {
                    color: #711e32;
                    font-weight: 800;
                    border-bottom: 2px solid #711e32;

                    &~ul {
                        display: block;
                    }
                }

                h3~ul {
                    display: none;
                }

                h2 {
                    padding: 10px 0;
                    font-size: .16rem;
                }

                li {
                    margin-left: 1em;
                }

            }

            &:last-child {
                width: calc(100vw - 2.8rem);
            }
        }

    }
</style>
